"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function timeHandler(e){if(e>-1){e<window.democfg.playnowseconds&&window.demo.opts("jump",window.democfg.playnowseconds),window.democfg.playnowseconds=parseInt(e),window.democfg.V_nowtime.innerHTML=window.demo.timeformcat(window.democfg.playnowseconds);var t=e*(window.democfg.WH.wid/window.democfg.totaltime);window.demo.setAttr(window.democfg.V_playin,"style","width:"+t+"px"),parseInt(window.democfg.playnowseconds)==parseInt(window.democfg.totaltime)&&(window.democfg.playnowseconds=0,window.demo.opts("jump",0),window.demo.setAttr(window.democfg.V_playin,"style","width:0px"),setTimeout(function(){window.democfg.V_pause.click()},200))}}function player_loadedHandler0(){CKobject.getObjectById("ckplayer_video_0").addListener("totaltime","totaltime0")}function totaltime0(e){console.log("done0"),window.democfg.flashplayer.push(0),window.demo.opts("singleinit",0),window.demo.opts("singlevolumdom",0,e)}function player_loadedHandler1(){CKobject.getObjectById("ckplayer_video_1").addListener("totaltime","totaltime1")}function totaltime1(e){window.democfg.flashplayer.push(1),window.demo.opts("singleinit",1),window.demo.opts("singlevolumdom",1,e)}function player_loadedHandler2(){CKobject.getObjectById("ckplayer_video_2").addListener("totaltime","totaltime2")}function totaltime2(e){window.democfg.flashplayer.push(2),window.demo.opts("singleinit",2),window.demo.opts("singlevolumdom",2,e)}function player_loadedHandler3(){CKobject.getObjectById("ckplayer_video_3").addListener("loadComplete","totaltime3")}function totaltime3(e){window.democfg.flashplayer.push(3),window.demo.opts("singleinit",3),window.demo.opts("singlevolumdom",3,e)}function player_loadedHandler4(){CKobject.getObjectById("ckplayer_video_4").addListener("loadComplete","totaltime4")}function totaltime4(e){window.democfg.flashplayer.push(4),window.demo.opts("singleinit",4),window.demo.opts("singlevolumdom",4,e)}function player_loadedHandler5(){CKobject.getObjectById("ckplayer_video_5").addListener("loadComplete","totaltime5")}function totaltime5(e){window.democfg.flashplayer.push(5),window.demo.opts("singleinit",5),window.demo.opts("singlevolumdom",5,e)}function player_loadedHandler6(){CKobject.getObjectById("ckplayer_video_6").addListener("loadComplete","totaltime6")}function totaltime6(e){window.democfg.flashplayer.push(6),window.demo.opts("singleinit",6),window.demo.opts("singlevolumdom",6,e)}function player_loadedHandler7(){CKobject.getObjectById("ckplayer_video_7").addListener("loadComplete","totaltime7")}function totaltime7(e){window.democfg.flashplayer.push(7),window.demo.opts("singleinit",7),window.demo.opts("singlevolumdom",7,e)}function player_loadedHandler8(){CKobject.getObjectById("ckplayer_video_8").addListener("loadComplete","totaltime8")}function totaltime8(e){window.democfg.flashplayer.push(8),window.demo.opts("singleinit",8),window.demo.opts("singlevolumdom",8,e)}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),LocalVideoPlay=function(){function e(t){_classCallCheck(this,e),this.initVal(t)}return _createClass(e,[{key:"initVal",value:function(e){this.cfg={};var t={id:"playerArea",fullscreen:!1,playnowseconds:0,flashplayer:[],model:[],autoplay:!1,listtopval:20,titleshow:"block",voicenum:2};_extends(this.cfg,t,e),this.initcommonVal()}},{key:"initcommonVal",value:function(){var e=this.cfg;1==e.channelnum&&(e.mainfile[0]=0),console.log(e.model,"cfg.modelcfg.model");for(var t=0;t<e.model.length;t++)"高清"==e.model[t]?e.model[t]={type:"high",name:"高清"}:"标清"==e.model[t]?e.model[t]={type:"normal",name:"标清"}:e.model[t]={type:"surper",name:"超清"};e.totaltime=e.mainfile[1],e.mutedid="mute_"+e.mainfile[0],e.WH=this.idstyle(e.widhei?e.widhei.wid:window.innerWidth,e.widhei?e.widhei.hei:window.innerHeight),document.oncontextmenu=function(){return!1},this.domDeal(),this.setckplayer(),this.keycode(),0==e.model.length&&this.setStyle(e.V_modelcontrol,"display","none"),this.resize()}},{key:"setStyle",value:function(e,t,i){e.style[t]=i}},{key:"setAttr",value:function(e,t,i){e.setAttribute(t,i)}},{key:"platformcheck",value:function(){var e=!!document.createElement("video").canPlayType,t=navigator.userAgent,i=t.match(/(iPhone|Android|iPad|Mobile|uc)/i),o=null!=t.match(/.(clr)*[rv:]([11.]+)/),n=null!=t.match(/.(msie)/gi),l=null!=t.match(/.(chrome)/gi),s=null!=t.match(/.(firefox)/gi),a=void 0;return i?a="mobile":e&&!i&&(a="pch5"),{ie11:o,ie:n,checkres:a,h5video:e,mobile:i,firefox:s,chrome:l}}},{key:"keycode",value:function(){var e=this,t=this.cfg;document.onkeydown=function(i){var o=i||window.event;if("122"==o.keyCode){if(t.lock)return t.f11count||(t.f11count=setTimeout(function(){delete t.f11secondtime,delete t.f11time,delete t.lock,clearTimeout(t.f11count),delete t.f11count},1e3)),o.preventDefault?(o.preventDefault(),o.stopPropagation()):(o.cancelBubble=!0,o.returnValue=!0),!1;t.f11time?(t.f11secondtime=(new Date).getTime(),console.log(t.f11secondtime-t.f11time),t.f11secondtime-t.f11time<=1e3&&(console.log("您的操作太频繁，请稍后再试!"),t.lock=!0)):t.f11time=(new Date).getTime(),t.fullscreen?t.fullscreen=!1:t.fullscreen=!0,e.platformcheck().ie11||e.platformcheck().ie||(o.preventDefault?o.preventDefault():o.cancelBubble=!0,t.fullscreenObj.click())}else"32"==o.keyCode?(console.log(e.getStyle(t.V_pause,"display")),"block"==e.getStyle(t.V_pause,"display")?t.V_pause.click():t.V_play.click()):"38"==o.keyCode?e.opts("updownvolum","add"):"40"==o.keyCode?e.opts("updownvolum","subtract"):o.keyCode}}},{key:"resize",value:function(){var e=this,t=this.cfg;window.addEventListener&&(window.onresize=function(){if(e.platformcheck().ie11||e.platformcheck().ie||t.fullscreen||!e.platformcheck().chrome){var i=null;i&&clearTimeout(i),i=setTimeout(function(){e.resizeplayer(e)},50)}})}},{key:"resizeplayer",value:function(e){var t=e.cfg;t.WH.wid!=screen.width&&t.WH.hei+0!=screen.height||(t.fullscreen=!1),t.fullscreen?t.WH=e.idstyle(screen.width,screen.height):(t.fullscreen=!1,t.WH=e.idstyle(t.widhei?t.widhei.wid:window.innerWidth,t.widhei?t.widhei.hei:window.innerHeight));var i="";this.platformcheck().mobile&&(i="border-bottom:1px solid #666;"),e.setAttr(e.getid(t.id),"style","width:"+t.WH.wid+"px;height:"+t.WH.hei+"px"+i),e.countcreatevideo(t.channelnum),e.slideRefrash(),e.addknowledge(),e.voiceRefrash(),3==t.channelnum||t.channelnum}},{key:"domDeal",value:function(){var e=this.cfg;e.showObj=this.getid(e.id);var t="";this.platformcheck().mobile&&(t="border-bottom:1px solid #666;"),this.setAttr(e.showObj,"style","width:"+e.WH.wid+"px;height:"+e.WH.hei+"px"+t),e.showObj.innerHTML=this.createvideo(e.channelnum),this.slidedom(),this.countcreatevideo(e.channelnum),3==e.channelnum||e.channelnum}},{key:"slidedom",value:function(){var e=this.cfg,t=this,i=document.createElement("div");this.setAttr(i,"class","control"),this.setAttr(i,"id","V_control");i.innerHTML='\n\t\t\t<div class="play iconfont icon-bofang" id="V_play" style="display: block;"></div>\n\t\t\t<div class="pause iconfont icon-zanting1"  id="V_pause" style="display: none;"></div>\n\t\t\t<div class="nowtime" id="V_nowtime">00:00:00</div>\n\t\t\t<div class="totaltime" id="V_totaltime">00:00:00</div>\n\t\t\t<div class="timeline" id="V_timeline">\n\t\t\t \t<div id="V_playin" class="playin" style="width: 0px;"></div>\n\t\t\t \t<div class="playinbg" id="V_playinbg"></div>\n\t\t\t </div>\n\t\t\t <div class="fullScreen iconfont icon-a" id="V_fullScreen" title="F11进入ie全屏或退出全屏"></div>\n\t\t\t <div class="scroll" id="V_scroll" volumval="50">\n\t\t\t\t <div class="scrollson" id="V_scrollson" style="left: 25px;"></div>\n\t\t\t\t <div class="scrollsonbg" id="V_scrollsonbg" style="width: 25px;"></div>\n\t\t\t </div>\n\t\t\t\n\t\t\t <div class="volum iconfont icon-yinliangkai" id="V_volum"></div>\n\t\t\t\n\t\t\t<div class="modelcontrol" id="V_modelcontrol">\n\t\t\t\t<div class="title">清晰度</div>\n\t\t\t\t<div class="modelcontrollist" id="V_modelcontrollist"></div>\n\t\t\t</div>\n\t\t\t<div class="volumcontrol" id="V_volumcontrol">\n\t\t\t\t<div class="title">声音通道</div>\n\t\t\t\t<div class="volumcontrollist" id="V_volumcontrollist"></div>\n\t\t\t</div>',this.getid(e.id).appendChild(i),e.fullscreenObj=this.getid("V_fullScreen"),e.V_control=this.getid("V_control"),e.V_modelcontrol=this.getid("V_modelcontrol"),e.V_modelcontrollist=this.getid("V_modelcontrollist"),e.V_volum=this.getid("V_volum"),e.V_volumcontrol=this.getid("V_volumcontrol"),e.V_play=this.getid("V_play"),e.V_pause=this.getid("V_pause"),e.V_nowtime=this.getid("V_nowtime"),e.V_totaltime=this.getid("V_totaltime"),e.V_timeline=this.getid("V_timeline"),e.V_playin=this.getid("V_playin"),e.V_playinbg=this.getid("V_playinbg"),e.V_scroll=this.getid("V_scroll"),e.V_scrollson=this.getid("V_scrollson"),e.V_scrollsonbg=this.getid("V_scrollsonbg"),e.V_volumcontrollist=this.getid("V_volumcontrollist"),this.getid(e.id).onmouseenter=function(){e.V_control.style.bottom="0px",t.showhide("block")},this.getid(e.id).onmouseleave=function(){e.V_control.style.bottom="-40px",t.showhide("none"),"block"==t.getStyle(e.V_volumcontrollist,"display")&&t.setStyle(e.V_volumcontrollist,"display","none"),"block"==t.getStyle(e.V_modelcontrollist,"display")&&t.setStyle(e.V_modelcontrollist,"display","none")},e.V_totaltime.innerHTML=this.timeformcat(e.totaltime)}},{key:"showhide",value:function(e){var t=this.cfg,i=this.getid(t.id).querySelectorAll(".outtitle");Array.prototype.slice.call(i).forEach(function(t){t.style.display=e})}},{key:"addknowledge",value:function(){for(var e=this.cfg,t=1*e.mainfile[1],i=e.WH.wid/t,o="",n=e.knowledge,l=0;l<n.length;l++)o+='<div class="knowledge"  style="left:'+i*this.timetoseconds(n[l].time)+'px;"><div class="knowledgehover"><span class="content">'+n[l].content+"</span></div></div>";e.V_playinbg.innerHTML=o;var s=e.V_playinbg.querySelectorAll(".knowledge");Array.prototype.slice.call(s).forEach(function(e){e.onmouseenter=function(e){e||window.event;this.style.overflow="visible"},e.onmouseleave=function(e){e||window.event;this.style.overflow="hidden"}})}},{key:"videoopt",value:function(e){var t=this,i=this.cfg;i.videooptopen=!0,this.slideRefrash(),i.V_pause.onclick=function(){t.opts("pause"),t.setStyle(this,"display","none"),t.setStyle(i.V_play,"display","block")},i.V_play.onclick=function(){t.opts("play"),t.setStyle(this,"display","none"),t.setStyle(i.V_pause,"display","block")},i.model.length>1&&(i.V_modelcontrol.onclick=function(e){var o=e||window.event;o.preventDefault?(o.preventDefault(),o.stopPropagation()):(o.cancelBubble=!0,o.returnValue=!1),"none"==t.getStyle(i.V_modelcontrollist,"display")?t.setStyle(i.V_modelcontrollist,"display","block"):t.setStyle(i.V_modelcontrollist,"display","none")}),i.V_volumcontrol.onclick=function(e){var o=e||window.event;o.preventDefault?(o.preventDefault(),o.stopPropagation()):(o.cancelBubble=!0,o.returnValue=!1),"none"==t.getStyle(i.V_volumcontrollist,"display")?t.setStyle(i.V_volumcontrollist,"display","block"):t.setStyle(i.V_volumcontrollist,"display","none")},i.V_volum.onclick=function(){var e=this.className.indexOf("icon-yinliangkai"),o=parseInt(i.V_scroll.getAttribute("volumval"));e<0?(t.setAttr(i.V_scrollsonbg,"style","width:"+o/i.voicenum+"px"),t.setAttr(i.V_scrollson,"style","left:"+o/i.voicenum+"px"),t.opts("volum",o,i.mutedid.split("_")[1]),t.setAttr(t.getid(i.mutedid),"class","mute iconon iconfont icon-yinliangkai"),this.className=this.className.replace(/(icon-yinliangguan)/gi,"icon-yinliangkai")):(i.V_volumcontrollist.querySelector(".iconon")&&(i.mutedid=i.V_volumcontrollist.querySelector(".iconon").getAttribute("id"),t.setAttr(i.V_volumcontrollist.querySelector(".iconon"),"class","mute iconoff iconfont icon-yinliangguan")),this.className=this.className.replace(/(icon-yinliangkai)/gi,"icon-yinliangguan"),t.setAttr(i.V_scrollsonbg,"style","width:0px"),t.setAttr(i.V_scrollson,"style","left:0px"),t.opts("volum",0))},i.fullscreenObj.onclick=function(){if(t.platformcheck().ie11||t.platformcheck().ie)return!1;this.className.indexOf("icon-a")>=0?(i.fullscreen=!0,t.FullScreen(i.showObj),t.setAttr(this,"class","outfullScreen iconfont icon-quanpingtuichu")):(i.fullscreen=!1,t.CancelFullScreen(),t.setAttr(this,"class","fullScreen iconfont icon-a"),t.resizeplayer(t))},this.voiceRefrash(),document.addEventListener&&(document.addEventListener("webkitfullscreenchange",function(){t.escFullScreen()},!1)||document.addEventListener("mozfullscreenchange",function(){t.escFullScreen()},!1)||document.addEventListener("fullscreenchange",function(){t.escFullScreen()},!1)||document.addEventListener("webkitfullscreenchange",function(){t.escFullScreen()},!1)),document.attachEvent&&document.attachEvent("msfullscreenchange",function(){t.escFullScreen()})}},{key:"voiceRefrash",value:function(){var e=this,t=this.cfg,i=(this.getoffset(t.showObj).left,!1),o=this.getoffset(t.V_scroll).left;t.V_scroll.onmousedown=function(n){var l=0,s=0;(i=!0)&&(document.onmousemove=function(i){var n=i||window.event,s=(l=n.pageX||n.clientX)-o>100/t.voicenum?100/t.voicenum:l-o;s=s<=0?0:s,e.setAttr(t.V_scrollsonbg,"style","width:"+s+"px"),e.setAttr(t.V_scrollson,"style","left:"+s+"px"),e.setAttr(t.V_scroll,"volumlen",s*t.voicenum),e.opts("volum",s*t.voicenum,t.mutedid.split("_")[1]),0==s?e.setAttr(t.V_volum,"class","volum iconfont icon-yinliangguan"):e.setAttr(t.V_volum,"class","volum iconfont icon-yinliangkai")},document.onmouseup=function(n){var l=n||window.event;if(i){document.onmousemove=null;var a=(s=l.pageX||l.clientX)-o>100/t.voicenum?100/t.voicenum:s-o;a=a<=0?0:a,e.opts("volum",a*t.voicenum,t.mutedid.split("_")[1]),e.setAttr(t.V_scrollsonbg,"style","width:"+a+"px"),e.setAttr(t.V_scrollson,"style","left:"+a+"px"),e.setAttr(t.V_scroll,"volumval",a*t.voicenum),0==a?e.setAttr(t.V_volum,"class","volum iconfont icon-yinliangguan"):e.setAttr(t.V_volum,"class","volum iconfont icon-yinliangkai")}i=!1})}}},{key:"slideRefrash",value:function(){var e=this.cfg,t=parseInt(e.mainfile[1])/e.WH.wid;this.setAttr(e.V_playin,"style","width:"+(e.nowplaySeconds/t).toFixed(2)+"px"),this.slideoptRefrash()}},{key:"slideoptRefrash",value:function(){var e=this,t=this.cfg,i=!1,o=parseInt(t.mainfile[1])/t.WH.wid,n=this.getoffset(t.showObj).left;t.V_timeline.onmousedown=function(l){var s=0,a=0;(i=!0)&&(document.onmousemove=function(i){var l=i||window.event;s=l.pageX||l.clientX;var a=parseInt((s-n)*o);e.setAttr(t.V_playin,"style","width:"+(s-n)+"px"),e.opts("jump",a)},document.onmouseup=function(l){var s=l||window.event;if(i){document.onmousemove=null,a=s.pageX||s.clientX;var c=parseInt((a-n)*o);e.setAttr(t.V_playin,"style","width:"+(a-n)+"px"),e.opts("jump",c)}i=!1})}}},{key:"timeformcat",value:function(e){var t=parseInt(e/3600),i=parseInt((e-3600*t)/60),o=parseInt(e-3600*t-60*i);return(t<10?"0"+t:t)+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)}},{key:"timetoseconds",value:function(e){var t=e.split(":");return 3600*t[0]+60*t[1]+1*t[2]}},{key:"getid",value:function(e){return document.getElementById(e)}},{key:"appendvideo",value:function(e,t){var i=this.cfg;i.flashinfo=[];for(var o=0;o<t;o++)e+='<div class="list"  id=list_'+o+'  ><div class="loading"></div><div class="title outtitle"  style="display:'+i.titleshow+'">'+i.channeltitle[o]+'</div><div style="width:100%;height:100%"    id=video_'+o+" ></div></div>",i.flashinfo.push({num:o,id:"video_"+o,url:i.channelB[o]});return e}},{key:"createvideo",value:function(e){var t="";switch(e){case 1:case 2:case 3:case 4:t=this.appendvideo(t,e);break;case 5:case 6:var i=document.createElement("div");this.setAttr(i,"class","videopartLostDom"),t=this.appendvideo(t,e),5==e&&(t+='<div class="nosingal"  id=list_5   >NOSINGAL</div>');break;case 7:case 8:case 9:t=this.appendvideo(t,e),7==e&&(t+='<div class="nosingal" id=list_7   >NOSINGAL</div>',t+='<div class="nosingal"  id=list_8  >NOSINGAL</div>'),8==e&&(t+='<div id=list_8 class="nosingal" >NOSINGAL</div>')}return t}},{key:"countcreatevideo",value:function(e){console.log("countcreatevideocountcreatevideo");var t=this.cfg;switch(t.WH.hei=t.WH.hei,e){case 1:this.setAttr(this.getid("list_0"),"style","width:"+(t.WH.wid-2)+"px;height:"+(t.WH.hei-2)+"px");break;case 2:for(var i,o=parseInt(t.WH.wid/2)-2,n=parseInt(t.WH.hei/2)-2,l=0;l<e;l++)0==l?(d="border-right:none;border-bottom:1px solid #666;",i=o+1):(d="border-bottom:1px solid #666;",i=o),this.setAttr(this.getid("list_"+l),"style",d+"width:"+i+"px;height:"+n+"px;top:"+(t.WH.hei-n)/2+"px");break;case 3:for(var o=parseInt(t.WH.wid/3),n=parseInt(t.WH.hei/2),s=(t.WH.hei-2*n)/2,l=0;l<e;l++)0==l?this.setAttr(this.getid("list_"+l),"style","border-right:none;width:"+(2*o-1)+"px;height:"+2*n+"px;top:"+s+"px"):1==l?this.setAttr(this.getid("list_"+l),"style","border-bottom:none;width:"+(o-2)+"px;height:"+n+"px;top:"+s+"px"):this.setAttr(this.getid("list_"+l),"style","width:"+(o-2)+"px;height:"+(n-1)+"px;top:"+s+"px");break;case 4:var o=parseInt(t.WH.wid/2)-2,n=parseInt(t.WH.hei/2)-2,a=o+1;for(l=0;l<e;l++){d="";0==l?(d="border-right:none;border-bottom:none;",this.setAttr(this.getid("list_"+l),"style",d+"width:"+a+"px;height:"+n+"px;")):1==l?(d="border-bottom:none;",this.setAttr(this.getid("list_"+l),"style",d+"width:"+o+"px;height:"+n+"px;")):2==l?(d="border-right:none;",this.setAttr(this.getid("list_"+l),"style",d+"width:"+a+"px;height:"+n+"px;")):this.setAttr(this.getid("list_"+l),"style",d+"width:"+o+"px;height:"+n+"px;")}break;case 5:case 6:var o=parseInt(t.WH.wid/3),n=parseInt(t.WH.hei/3),c=document.createElement("div");this.setAttr(c,"class","videopartLostDom");for(l=0;l<e;l++)0==l?this.setAttr(this.getid("list_"+l),"style","width:"+(2*o-1)+"px;height:"+(2*n-1)+"px;border-right:none;border-bottom:none;"):1==l?this.setAttr(this.getid("list_"+l),"style","width:"+(o-2)+"px;height:"+(n-1)+"px;border-bottom:none;"):2==l?this.setAttr(this.getid("list_"+l),"style","width:"+(o-2)+"px;height:"+(n-1)+"px;border-bottom:none;"):3==l?this.setAttr(this.getid("list_"+l),"style","width:"+(o-2)+"px;margin-right:"+(t.WH.wid-3*o)+"px;height:"+(n-1)+"px;float:right;border-left:none;"):4==l?this.setAttr(this.getid("list_"+l),"style","width:"+(o-2)+"px;height:"+(n-1)+"px;float:right;"):5==l&&this.setAttr(this.getid("list_"+l),"style","width:"+(o-1)+"px;height:"+(n-1)+"px;border-right:none;");5==e&&this.setAttr(this.getid("list_5"),"style","border-right:none;width:"+(o-1)+"px;height:"+(n-1)+"px;line-height:"+n+"px;text-align:center;color:#fff");break;case 7:case 8:case 9:for(var o=parseInt(t.WH.wid/3)-2,n=parseInt(t.WH.hei/3)-1,a=o+1,l=0;l<e;l++){var d;0==l||1==l||3==l||4==l||6==l||7==l?(d="border-right:none;",this.setAttr(this.getid("list_"+l),"style",d+"width:"+a+"px;height:"+n+"px;")):(d="",this.setAttr(this.getid("list_"+l),"style",d+"width:"+o+"px;height:"+n+"px;"))}7==e&&(this.setAttr(this.getid("list_7"),"style","border-right:none;width:"+a+"px;float:left;height:"+n+"px;line-height:"+n+"px;text-align:center;color:#fff"),this.setAttr(this.getid("list_8"),"style","width:"+o+"px;float:left;height:"+n+"px;line-height:"+n+"px;text-align:center;color:#fff")),8==e&&this.setAttr(this.getid("list_8"),"style","width:"+o+"px;float:left;height:"+n+"px;line-height:"+n+"px;text-align:center;color:#fff")}}},{key:"getStyle",value:function(e,t){return window.getComputedStyle?window.getComputedStyle(e,null)[t]:e.currentStyle[t]}},{key:"getoffset",value:function(e,t){if(null==e)return t;t||((t={}).top=0,t.left=0);var i=this.getStyle(e,"position");if("absolute"==i||"relative"==i){if(e.getBoundingClientRect&&null!=navigator.userAgent.toLowerCase().match(/.(msie)/))return t.top+=e.getBoundingClientRect.top,t.left+=e.getBoundingClientRect.left,t;t.top+=e.offsetTop,t.left+=e.offsetLeft}else t.top+=0,t.left+=0;return this.getoffset(e.parentElement,t)}},{key:"idstyle",value:function(e,t){var i={},o=t;return.5625*e>t?t/.5625<=e?(i.hei=t,i.wid=parseInt(t/.5625)):(o-=10,this.idstyle(e,o)):(i.hei=parseInt(.5625*e),i.wid=e),i}},{key:"channelmodelEvent",value:function(e){var t=this,i=this.cfg,o=e.querySelectorAll(".modelspan");Array.prototype.slice.call(o).forEach(function(e,o){e.addEventListener("click",function(e){var o=e||window.event;o.preventDefault?(o.preventDefault(),o.stopPropagation()):(o.cancelBubble=!0,o.returnValue=!1),t.opts("removelistening"),i.V_pause.click(),i.flashplayer=[],i.V_volumcontrollist.innerHTML="",t.opts("loading","block"),t.opts("error","none");var n=this.getAttribute("type");"normal"==n?t.opts("flashinfo",i.channelB):"super"==n?t.opts("flashinfo",i.channelS):t.opts("flashinfo",i.channel),t.setckplayer()},!1)})}},{key:"channelmuteEvent",value:function(e){var t=this,i=this.cfg,o=e.querySelectorAll(".mute"),n=i.V_scroll.getAttribute("volumval");Array.prototype.slice.call(o).forEach(function(o,l){o.onclick=null,o.onclick=function(o){var s=o||window.event;s.preventDefault?(s.preventDefault(),s.stopPropagation()):(s.cancelBubble=!0,s.returnValue=!1);var a=this.getAttribute("class");i.mutedid=this.getAttribute("id"),null!=a.match(/(iconon)/gi)?(t.setAttr(this,"class","mute iconoff iconfont icon-yinliangguan"),i.V_volum.click()):(e.querySelector(".iconon")&&t.setAttr(e.querySelector(".iconon"),"class","mute iconoff iconfont icon-yinliangguan"),t.setAttr(this,"class","mute iconon iconfont icon-yinliangkai"),null!=i.V_volum.className.indexOf("icon-yinliangguan")?i.V_volum.click():t.opts("volum",n,l))}})}},{key:"FullScreen",value:function(e){if(e.requestFullScreen)e.requestFullScreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullScreen)e.webkitRequestFullScreen();else{if(!e.msRequestFullscreen)return!0;e.msRequestFullscreen()}}},{key:"CancelFullScreen",value:function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitCancelFullScreen)document.webkitCancelFullScreen();else{if(!document.msExitFullscreen)return!0;document.msExitFullscreen()}}},{key:"escFullScreen",value:function(){var e=this.cfg;document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(this.CancelFullScreen(),e.fullscreenObj.setAttribute("class","fullScreen iconfont icon-a"))}},{key:"opts",value:function(e,t,i){var o=this.cfg,n="";if("singleinit"==e){var l="";if(console.log(o.model,"清晰度"),o.model.length>0)for(var s=0;s<o.model.length;s++)l+='<span class="modelspan" type='+o.model[s].type+">"+o.model[s].name+"</span>";return o.V_modelcontrollist.innerHTML=l,this.setAttr(o.V_modelcontrollist,"style","top:-"+(20*(o.model.length+1)+11)+"px;"),this.channelmodelEvent(o.V_modelcontrollist),this["videobj_"+t]&&delete this["videobj_"+t],this["videobj_"+t]=CKobject.getObjectById("ckplayer_video_"+t),o.videooptopen||(this.videoopt(),this.addknowledge()),void(this.getid("list_"+t).querySelector(".loading").style.display="none")}if("singlevolumdom"!=e)if("flashinfo"!=e)if("loading"!=e){if("updownvolum"==e){var a=parseInt(o.V_scroll.getAttribute("volumval"));return"add"==t?(a+=2)>100&&(a=100):(a-=2)<=0&&(a=0),this["videobj_"+o.mutedid.split("_")[1]].changeVolume(a),o.V_scroll.setAttribute("volumval",a),o.V_volum.className=a<=0?o.V_volum.className.replace(/(icon-yinliangkai)/gi,"icon-yinliangguan"):o.V_volum.className.replace(/(icon-yinliangguan)/gi,"icon-yinliangkai"),this.setAttr(o.V_scrollsonbg,"style","width:"+a+"px"),void this.setAttr(o.V_scrollson,"style","left:"+a+"px")}for(var c=0;c<o.flashplayer.length;c++){var d=o.flashplayer[c];if(this["videobj_"+d])switch(e){case"play":o.loadingflag||this.opts("loading","none"),this["videobj_"+d].videoPlay();break;case"pause":o.loadingflag||this.opts("loading","none"),this["videobj_"+d].videoPause();break;case"jump":o.loadingflag||this.opts("loading","none"),i?"add"==i?t+5>=o.totaltime?(o.playnowseconds=0,this["videobj_"+d].videoSeek(o.playnowseconds)):(o.playnowseconds=t+5,this["videobj_"+d].videoSeek(o.playnowseconds)):t-5<=0?(o.playnowseconds=0,this["videobj_"+d].videoSeek(o.playnowseconds)):(o.playnowseconds=t-5,this["videobj_"+d].videoSeek(o.playnowseconds)):(o.playnowseconds=t,this["videobj_"+d].videoSeek(t));break;case"volum":o.loadingflag||this.opts("loading","none");var r=this.getid("mute_"+d);void 0!=i?i==d?(this["videobj_"+d].changeVolume(t),0==t?this.setAttr(r,"class","mute iconoff iconfont icon-yinliangguan"):this.setAttr(r,"class","mute iconon iconfont icon-yinliangkai")):(this["videobj_"+d].changeVolume(0),this.setAttr(r,"class","mute iconoff iconfont icon-yinliangguan")):(this["videobj_"+d].changeVolume(t),0==t?this.setAttr(r,"class","mute iconoff iconfont icon-yinliangguan"):this.setAttr(r,"class","mute iconon iconfont icon-yinliangkai"))}}}else for(var u=0;u<o.channelnum;u++)this.setStyle(this.getid("list_"+u).querySelector(".loading"),"display",t),o.loadingflag="none"==t;else for(var h=0;h<o.channelnum;h++)o.flashinfo[h].url=t[h];else{if(!this.getid("mute_"+t)){var m=this["videobj_"+t];n=document.createElement("div"),this.setAttr(n,"id","mute_"+t),t!=o.mainfile[0]?(m.changeVolume(0),this.setAttr(n,"class","mute iconoff iconfont icon-yinliangguan")):(this.setAttr(n,"class","mute iconon iconfont icon-yinliangkai"),o.mainfile[1]=o.totaltime=i,o.V_totaltime.innerHTML=this.timeformcat(o.totaltime),this.slideRefrash(),this.addknowledge(),this.voiceRefrash(),m.addListener("time","timeHandler")),n.textContent=o.channeltitle[t],o.V_volumcontrollist.appendChild(n),this.setAttr(o.V_volumcontrollist,"style","top:-"+(20*(o.flashplayer.length+1)+12)+"px;"),this.channelmuteEvent(o.V_volumcontrollist)}o.flashplayer.length==o.channelnum&&(console.log("加载完成"),o.autoplay&&setTimeout(function(){o.V_play.click()},200))}}},{key:"setckplayer",value:function(){for(var e=this.cfg,t=this,i=0;i<e.channelnum;i++)!function(i){t.getid(e.flashinfo[i].id).innerHTML="",t.ckplayer(e.flashinfo[i])}(i)}},{key:"ckplayer",value:function(e){var t=window["player_loadedHandler"+e.num].name,i={f:e.url,a:"",s:"0",c:0,x:"",i:"",d:"",u:"",l:"",r:"",t:"",y:"",z:"",e:"8",v:"50",p:"0",h:"0",q:"",m:"",o:"",w:"",g:"",j:"",k:"",n:"",wh:"16:9",lv:0,er:"加载失败",loaded:t,my_title:"",my_url:encodeURIComponent(window.location.href)},o={bgcolor:"transparent",allowFullScreen:!0,wmode:"transparent",allowScriptAccess:"always"};window.CKobject.embedSWF("/static/cklive/src/ckplayer/ckplayer.swf",e.id,"ckplayer_"+e.id,"100%","100%",i,o)}}]),e}(),demo=new LocalVideoPlay(window.infos),democfg=window.demo.cfg;
export function LocalVideoPlay(param) {
	return new LocalVideoPlay(param)
}